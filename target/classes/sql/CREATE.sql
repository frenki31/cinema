CREATE TABLE ADMIN 
(ADMIN_ID INT IDENTITY(1,1) NOT NULL,
ADMIN_USER VARCHAR(30) NOT NULL,
ADMIN_PASS VARCHAR(100) NOT NULL,
PRIMARY KEY(ADMIN_ID))

CREATE TABLE COMPANY
(COMPANY_CODE INT IDENTITY(1,1) PRIMARY KEY,
COMPANY_NAME VARCHAR(50) NOT NULL,
COMPANY_REVENUE DECIMAL(20,2) DEFAULT 0.0)

CREATE TABLE GENRE
(GENRE_ID INT IDENTITY(1,1) PRIMARY KEY,
GENRE_CATEGORY VARCHAR(50) NOT NULL)

CREATE TABLE TYPE
(TYPE_ID INT IDENTITY(1,1) PRIMARY KEY,
TYPE_LANGUAGE VARCHAR(30) NOT NULL)

CREATE TABLE LANGUAGE
(LANGUAGE_ID INT IDENTITY(1,1) PRIMARY KEY,
LANGUAGE_CODE CHAR(3),
LANGUAGE_NAME VARCHAR(50) NOT NULL)

CREATE TABLE COUNTRY 
(COUNTRY_CODE INT IDENTITY(1,1) PRIMARY KEY,
COUNTRY_ISO CHAR(3) NOT NULL,
COUNTRY_NAME VARCHAR(50) NOT NULL)

CREATE TABLE DEPARTMENT
(DEP_CODE INT IDENTITY(1,1) PRIMARY KEY,
DEP_NAME VARCHAR(50) NOT NULL)

CREATE TABLE PERSON
(PERSON_ID INT IDENTITY(1,1) PRIMARY KEY,
PERSON_FNAME VARCHAR(50) NOT NULL,
PERSON_MNAME VARCHAR(30),
PERSON_LNAME VARCHAR(50) NOT NULL,
PERSON_GENDER VARCHAR(30),
PERSON_TYPE VARCHAR(10) NOT NULL)

CREATE TABLE MOVIE
(MOVIE_ID INT IDENTITY(1,1) PRIMARY KEY,
MOVIE_TITLE VARCHAR(250) NOT NULL,
MOVIE_BUDGET DECIMAL(20,2),
MOVIE_OVERVIEW VARCHAR(2000) NOT NULL,
MOVIE_REVENUE DECIMAL(20,2),
MOVIE_RELEASE DATE NOT NULL,
MOVIE_RUNTIME TIME(7) NOT NULL,
MOVIE_STATUS VARCHAR(20) NOT NULL,
MOVIE_RATING DECIMAL(3,1),
MOVIE_RATINGS_NR INT,
MOVIE_COVER VARCHAR(300) NOT NULL,
ADMIN_ID INT NOT NULL,
MOVIE_TOTAL_RATING INT,
FOREIGN KEY(ADMIN_ID) REFERENCES ADMIN(ADMIN_ID)) ON UPDATE CASCADE

CREATE TABLE MOVIE_TRAILER
(MOVIE_ID INT,
TRAILER_ID INT IDENTITY(1,1),
TRAILER VARCHAR(300) NOT NULL,
PRIMARY KEY(MOVIE_ID, TRAILER_ID),
FOREIGN KEY(MOVIE_ID) REFERENCES MOVIE(MOVIE_ID) ON DELETE CASCADE ON UPDATE CASCADE)

CREATE TABLE MOVIE_COUNTRY
(MOVIE_ID INT REFERENCES MOVIE(MOVIE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
COUNTRY_CODE INT REFERENCES COUNTRY(COUNTRY_CODE) ON DELETE CASCADE ON UPDATE CASCADE,
PRIMARY KEY(MOVIE_ID, COUNTRY_CODE))

CREATE TABLE MOVIE_LANGUAGE
(MOVIE_ID INT REFERENCES MOVIE(MOVIE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
LANGUAGE_ID INT REFERENCES LANGUAGE(LANGUAGE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
TYPE_ID INT REFERENCES TYPE(TYPE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
PRIMARY KEY(MOVIE_ID, LANGUAGE_ID, TYPE_ID))

CREATE TABLE MOVIE_GENRE
(MOVIE_ID INT REFERENCES MOVIE(MOVIE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
GENRE_ID INT REFERENCES GENRE(GENRE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
PRIMARY KEY(MOVIE_ID, GENRE_ID))

CREATE TABLE MOVIE_COMPANY
(MOVIE_ID INT REFERENCES MOVIE(MOVIE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
COMPANY_CODE INT REFERENCES COMPANY(COMPANY_CODE) ON DELETE CASCADE ON UPDATE CASCADE,
PRIMARY KEY(MOVIE_ID, COMPANY_CODE))

CREATE TABLE CAPITAL
(COUNTRY_CODE INT REFERENCES COUNTRY(COUNTRY_CODE),
CAPITAL_CODE INT IDENTITY(1,1) NOT NULL,
CAPITAL_NAME VARCHAR(50) NOT NULL,
CAPITAL_POPULATION INT,
PRIMARY KEY(COUNTRY_CODE, CAPITAL_CODE))

CREATE TABLE CREW
(MOVIE_ID INT REFERENCES MOVIE(MOVIE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
PERSON_ID INT REFERENCES PERSON(PERSON_ID) ON DELETE CASCADE ON UPDATE CASCADE,
DEP_CODE INT REFERENCES DEPARTMENT(DEP_CODE) ON DELETE CASCADE ON UPDATE CASCADE,
CREW_JOBTITLE VARCHAR(50) NOT NULL,
PRIMARY KEY(MOVIE_ID, PERSON_ID, DEP_CODE))

CREATE TABLE CAST
(MOVIE_ID INT REFERENCES MOVIE(MOVIE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
PERSON_ID INT REFERENCES PERSON(PERSON_ID) ON DELETE CASCADE ON UPDATE CASCADE,
CAST_CHARACTER VARCHAR(50) NOT NULL,
CAST_ORDER VARCHAR(100) NOT NULL,
PRIMARY KEY(MOVIE_ID, PERSON_ID))